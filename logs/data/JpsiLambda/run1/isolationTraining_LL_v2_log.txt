Mon Dec  3 16:47:48 EST 2018

******************************************
Processing Run 1 LL
******************************************
*****************************
==> Starting TrainIsolation: 
WD = /data1/avenkate/JpsiLambda_RESTART
*****************************
--- TMVAClassification : Using background input file: /data1/avenkate/B+toJpsiK+/RealData_AllKaons/total_run1/splot/maketuples/jpsik_forTMVAisoTraining.root
--- TMVAClassification : Using signal input file: rootFiles/dataFiles/JpsiLambda/run1/jpsilambda_LL_forIsoTraining_massCut.root
DataSetInfo              : [dataset] : Added class "Signal"
                         : Add Tree MyTuple of type Signal with 160635 events
DataSetInfo              : [dataset] : Added class "Background"
                         : Add Tree MyTuple of type Background with 510623 events
Factory                  : Booking method: [1misoConf1_300[0m
                         : 
DataSetFactory           : [dataset] : Number of events in input trees
                         : Dataset[dataset] :     Signal     requirement: "PT > 0 && MINIPCHI2 > 0 && VCHI2DOF > 0 && FD > 0 && FDCHI2 > 0"
                         : Dataset[dataset] :     Signal          -- number of events passed: 2457787  / sum of weights: 201361
                         : Dataset[dataset] :     Signal          -- efficiency             : 0.999981
                         : Dataset[dataset] :     Background requirement: "PT > 0 && MINIPCHI2 > 0 && VCHI2DOF > 0 && FD > 0 && FDCHI2 > 0"
                         : Dataset[dataset] :     Background      -- number of events passed: 510623  / sum of weights: 213264
                         : Dataset[dataset] :     Background      -- efficiency             : 1     
                         : Dataset[dataset] :  you have opted for interpreting the requested number of training/testing events
                         :  to be the number of events AFTER your preselection cuts
                         : 
                         : 
                         : Number of training and testing events
                         : ---------------------------------------------------------------------------
                         : Signal     -- training events            : 1228893
                         : Signal     -- testing events             : 1228893
                         : Signal     -- training and testing events: 2457786
                         : Dataset[dataset] : Signal     -- due to the preselection a scaling factor has been applied to the numbers of requested events: 0.999978
                         : Background -- training events            : 255311
                         : Background -- testing events             : 255311
                         : Background -- training and testing events: 510622
                         : 
DataSetInfo              : Correlation matrix (Signal):
                         : ---------------------------------------------------------------------------
                         :                    IPCHI2 VCHI2DOF log10(MINIPCHI2) log10(FD) log10(FDCHI2)
                         :           IPCHI2:  +1.000   +0.815           +0.144    +0.262        +0.232
                         :         VCHI2DOF:  +0.815   +1.000           +0.157    +0.064        +0.019
                         : log10(MINIPCHI2):  +0.144   +0.157           +1.000    -0.059        -0.063
                         :        log10(FD):  +0.262   +0.064           -0.059    +1.000        +0.806
                         :    log10(FDCHI2):  +0.232   +0.019           -0.063    +0.806        +1.000
                         : ---------------------------------------------------------------------------
DataSetInfo              : Correlation matrix (Background):
                         : ---------------------------------------------------------------------------
                         :                    IPCHI2 VCHI2DOF log10(MINIPCHI2) log10(FD) log10(FDCHI2)
                         :           IPCHI2:  +1.000   +0.671           +0.086    +0.002        +0.053
                         :         VCHI2DOF:  +0.671   +1.000           +0.089    -0.014        +0.036
                         : log10(MINIPCHI2):  +0.086   +0.089           +1.000    +0.525        +0.675
                         :        log10(FD):  +0.002   -0.014           +0.525    +1.000        +0.807
                         :    log10(FDCHI2):  +0.053   +0.036           +0.675    +0.807        +1.000
                         : ---------------------------------------------------------------------------
DataSetFactory           : [dataset] :  
                         : 
Factory                  : Booking method: [1misoConf2_300[0m
                         : 
Factory                  : [1mTrain all methods[0m
Factory                  : [dataset] : Create Transformation "I" with events from all classes.
                         : 
                         : Transformation, Variable selection : 
                         : Input : variable 'IPCHI2' <---> Output : variable 'IPCHI2'
                         : Input : variable 'VCHI2DOF' <---> Output : variable 'VCHI2DOF'
                         : Input : variable 'log_MINIPCHI2' <---> Output : variable 'log_MINIPCHI2'
                         : Input : variable 'log_FD' <---> Output : variable 'log_FD'
                         : Input : variable 'log_FDCHI2' <---> Output : variable 'log_FDCHI2'
TFHandler_Factory        :      Variable             Mean             RMS     [        Min             Max ]
                         : ------------------------------------------------------------------------------------
                         :        IPCHI2:         5.0383         5.0029   [     1.4668e-06         31.192 ]
                         :      VCHI2DOF:         2.7139         2.1500   [     7.9119e-05         9.9999 ]
                         : log_MINIPCHI2:        0.58613         1.2045   [        -5.9264         5.8559 ]
                         :        log_FD:         2.5765         1.1553   [        -1.4445         7.5442 ]
                         :    log_FDCHI2:         1.1803         1.1662   [        -2.1109         6.6781 ]
                         : ------------------------------------------------------------------------------------
                         : Ranking input variables (method unspecific)...
IdTransformation         : Ranking result (top variable is best ranked)
                         : --------------------------------------
                         : Rank : Variable      : Separation
                         : --------------------------------------
                         :    1 : log_FDCHI2    : 9.708e-01
                         :    2 : log_FD        : 8.503e-01
                         :    3 : log_MINIPCHI2 : 7.625e-01
                         :    4 : IPCHI2        : 3.502e-01
                         :    5 : VCHI2DOF      : 1.529e-01
                         : --------------------------------------
Factory                  : Train method: isoConf1_300 for Classification
                         : 
<WARNING>                : Events with negative event weights are USED during the BDT training. This might cause problems with small node sizes or with the boosting. Please remove negative events from training using the option *IgnoreEventsWithNegWeightsInTraining* in case you observe problems with the boosting
isoConf1_300             : #events: (reweighted) sig: 742102 bkg: 742102
                         : #events: (unweighted) sig: 1228893 bkg: 255311
                         : Training 300 Decision Trees ... patience please
                         : Elapsed time for training with 1484204 events: 202 sec         
isoConf1_300             : [dataset] : Evaluation of isoConf1_300 on training sample (1484204 events)
                         : Elapsed time for evaluation of 1484204 events: 23.6 sec       
                         : Creating xml weight file: [0;36mdataset/weights/TMVAClassification300-isokLL_dataRun1_v2_isoConf1_300.weights.xml[0m
                         : Creating standalone class: [0;36mdataset/weights/TMVAClassification300-isokLL_dataRun1_v2_isoConf1_300.class.C[0m
Factory                  : Training finished
                         : 
Factory                  : Train method: isoConf2_300 for Classification
                         : 
<WARNING>                : Events with negative event weights are USED during the BDT training. This might cause problems with small node sizes or with the boosting. Please remove negative events from training using the option *IgnoreEventsWithNegWeightsInTraining* in case you observe problems with the boosting
isoConf2_300             : #events: (reweighted) sig: 742102 bkg: 742102
                         : #events: (unweighted) sig: 1228893 bkg: 255311
                         : Training 300 Decision Trees ... patience please
                         : Elapsed time for training with 1484204 events: 204 sec         
isoConf2_300             : [dataset] : Evaluation of isoConf2_300 on training sample (1484204 events)
                         : Elapsed time for evaluation of 1484204 events: 24 sec       
                         : Creating xml weight file: [0;36mdataset/weights/TMVAClassification300-isokLL_dataRun1_v2_isoConf2_300.weights.xml[0m
                         : Creating standalone class: [0;36mdataset/weights/TMVAClassification300-isokLL_dataRun1_v2_isoConf2_300.class.C[0m
Factory                  : Training finished
                         : 
                         : Ranking input variables (method specific)...
isoConf1_300             : Ranking result (top variable is best ranked)
                         : -----------------------------------------------
                         : Rank : Variable      : Variable Importance
                         : -----------------------------------------------
                         :    1 : log_FDCHI2    : 4.121e-01
                         :    2 : log_FD        : 4.047e-01
                         :    3 : VCHI2DOF      : 7.749e-02
                         :    4 : IPCHI2        : 6.437e-02
                         :    5 : log_MINIPCHI2 : 4.140e-02
                         : -----------------------------------------------
isoConf2_300             : Ranking result (top variable is best ranked)
                         : -----------------------------------------------
                         : Rank : Variable      : Variable Importance
                         : -----------------------------------------------
                         :    1 : log_FDCHI2    : 4.212e-01
                         :    2 : log_FD        : 4.001e-01
                         :    3 : VCHI2DOF      : 7.361e-02
                         :    4 : log_MINIPCHI2 : 6.273e-02
                         :    5 : IPCHI2        : 4.238e-02
                         : -----------------------------------------------
Factory                  : === Destroy and recreate all methods via weight files for testing ===
                         : 
Factory                  : [1mTest all methods[0m
Factory                  : Test method: isoConf1_300 for Classification performance
                         : 
isoConf1_300             : [dataset] : Evaluation of isoConf1_300 on testing sample (1484204 events)
                         : Elapsed time for evaluation of 1484204 events: 21.7 sec       
Factory                  : Test method: isoConf2_300 for Classification performance
                         : 
isoConf2_300             : [dataset] : Evaluation of isoConf2_300 on testing sample (1484204 events)
                         : Elapsed time for evaluation of 1484204 events: 22.1 sec       
Factory                  : [1mEvaluate all methods[0m
Factory                  : Evaluate classifier: isoConf1_300
                         : 
isoConf1_300             : [dataset] : Loop over test events and fill histograms with classifier response...
                         : 
TFHandler_isoConf1_300   :      Variable             Mean             RMS     [        Min             Max ]
                         : ------------------------------------------------------------------------------------
                         :        IPCHI2:         3.4508         4.4175   [     1.3841e-07         32.730 ]
                         :      VCHI2DOF:         2.2049         1.9668   [     0.00023814         9.9999 ]
                         : log_MINIPCHI2:         1.3993         1.4543   [        -5.6760         5.8551 ]
                         :        log_FD:         1.8831         1.2222   [        -2.0914         7.6313 ]
                         :    log_FDCHI2:         2.1354         1.5090   [        -2.2603         6.4655 ]
                         : ------------------------------------------------------------------------------------
Factory                  : Evaluate classifier: isoConf2_300
                         : 
isoConf2_300             : [dataset] : Loop over test events and fill histograms with classifier response...
                         : 
TFHandler_isoConf2_300   :      Variable             Mean             RMS     [        Min             Max ]
                         : ------------------------------------------------------------------------------------
                         :        IPCHI2:         3.4508         4.4175   [     1.3841e-07         32.730 ]
                         :      VCHI2DOF:         2.2049         1.9668   [     0.00023814         9.9999 ]
                         : log_MINIPCHI2:         1.3993         1.4543   [        -5.6760         5.8551 ]
                         :        log_FD:         1.8831         1.2222   [        -2.0914         7.6313 ]
                         :    log_FDCHI2:         2.1354         1.5090   [        -2.2603         6.4655 ]
                         : ------------------------------------------------------------------------------------
                         : 
                         : Evaluation results ranked by best signal efficiency and purity (area)
                         : -------------------------------------------------------------------------------------------------------------------
                         : DataSet       MVA                       
                         : Name:         Method:          ROC-integ
                         : dataset       isoConf1_300   : 1.000
                         : dataset       isoConf2_300   : 1.000
                         : -------------------------------------------------------------------------------------------------------------------
                         : 
                         : Testing efficiency compared to training efficiency (overtraining check)
                         : -------------------------------------------------------------------------------------------------------------------
                         : DataSet              MVA              Signal efficiency: from test sample (from training sample) 
                         : Name:                Method:          @B=0.01             @B=0.10            @B=0.30   
                         : -------------------------------------------------------------------------------------------------------------------
                         : dataset              isoConf1_300   : 1.000 (1.000)       1.000 (1.000)      1.000 (1.000)
                         : dataset              isoConf2_300   : 1.000 (1.000)       1.000 (1.000)      1.000 (1.000)
                         : -------------------------------------------------------------------------------------------------------------------
                         : 
Dataset:dataset          : Created tree 'TestTree' with 1484204 events
                         : 
Dataset:dataset          : Created tree 'TrainTree' with 1484204 events
                         : 
Factory                  : [1mThank you for using TMVA![0m
                         : [1mFor citation information, please visit: http://tmva.sf.net/citeTMVA.html[0m
==> Wrote root file: rootFiles/dataFiles/JpsiLambda/run1/TMVAtraining/iso/TMVA300-isokLL_data_v2.root
==> TMVAClassification is done!
==> End of TrainIsolation! Cheers!: Real time 0:11:03, CP time 662.170
